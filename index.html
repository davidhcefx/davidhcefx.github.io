<!doctype html>
<html>
<head>
    <title>Welcome</title>
    <link rel="icon" href="favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <script type="text/javascript" src='src/k.js'></script>
    <script>Konami(function(){alert(1)});</script>
    <style type="text/css">
        .Work {
            background-color: #edffffff;
            position: relative;
        }
        .Description {
            position: absolute;
            top: 0px;
            left: 190px
        }
    </style>
</head>
<body>
    <h2>Who am I?</h2>
    <hr>
    <h3><a href="https://github.com/davidhcefx">davidhcefx <img src="res/GitHub-Mark-32px.png" width="20px"></a> <img src="res/Taiwan_map.jpg" width="200" align="right" style="border-radius: 8px"></h3>
    <p>A student from Taiwan who loves computer science.</p>
    <br>
    
    <h2>Works</h2>
    <hr>
    <div class="Work">
        <img src="res/identicon.png" width="160" style="border: 2px solid #aaa; border-radius: 8px">
        <div class="Description">
            <br>
            <h3><a href="https://github.com/davidhcefx/Identicon-Github-like">Identicon Generator (Github-like)</a></h3>
            <p>An Identicon is an icon that contains a hash value representing part of your identity. Although it is not known how Github generates each user's Identicon, it's not too hard to make one. :-)</p>
        </div>
    </div>
    <br>
    <div class="Work">
        <img src="res/messagebox.png" width="160" style="border: 2px solid #aaa; border-radius: 8px">
        <div class="Description">
            <br>
            <h3><a href="https://github.com/davidhcefx/Windows-MessageBox-for-Cmd">Windows MessageBox for Cmd</a></h3>
            <p>This is a Cmd tool, which is in fact just a Cpp wrapper, that utilizes the MessageBox WinAPI. It lets people create a pop-up message box with ease.</p>
        </div>
    </div>
    <br>
    <div class="Work">
        <img src="res/trash.png" width="160" style="border: 2px solid #aaa; border-radius: 8px">
        <div class="Description">
            <br>
            <h3><a href="https://github.com/davidhcefx/My-Bash-Scripts/tree/master/Cygwin%20rm%20Move%20to%20RecycleBin">Trash - A rm replacement on Cygwin</a></h3>
            <p>Ever worried about accidentally deleting something and not being able to recover it? Here are the ways to replace the native rm with a safer version of deleting files via moving it to the Trash bin.</p>
        </div>
    </div>
    <br>
    <div class="Work">
        <img src="res/nano.png" width="160" style="border: 2px solid #aaa; border-radius: 8px">
        <div class="Description">
            <br>
            <h3><a href="https://github.com/davidhcefx/nano-4.8_modified">nano-4.8 (modified)</a></h3>
            <p>Now, Ctrl + Backspace can delete a word backwards! (which is already supported in most of the browsers, editors, file explorers, etc. Everywhere!) It's not officially supported on Ubuntu and most Linux platforms.</p>
        </div>
    </div>
    <br>

    <h2>Toys</h2>
    <hr>
    <div id='hl-result'></div>
    <ul>
    <li>
        <p><a href="javascript:alert(1);_click()" id='click'>Click me!</a></p>
    </li>
    <li>
        <textarea id="jscode" rows="4" cols="30" placeholder="I want to run JS now!"></textarea>
        <input type="button" value="Run" onclick="runJS()">
    </li>
    <li>
        <p><a href="LCG.html">Linear Congruential Generator</a></p>
    </li>
    <li>
        <p><a href="https://highlightjs.org/">highlight.js</a> Online Tester:</p>
        <p>
            <textarea id="hl-text" rows="8" cols="50" placeholder="Text to be highlighted"></textarea>
            <textarea id="hl-brush" rows="1" cols="10" placeholder="eg. bash"></textarea>
            <input type="button" value="Go" onclick="hl_go()">
        </p>
    </li>
    </ul>
    <br><br><br><br><br><br><br><br><br>

    <script>
        ~function() {
            function getval(str, sep) {
                // get value from 'key sep (space) value (space)'
                return str.split(sep)[1].trim();
            }
            fetch('https://www.cloudflare.com/cdn-cgi/trace')
            .then(async function(res) {
                let ip = getval(String(await res.text()).split('\n')[2], '=');
                fetch('https://api.hackertarget.com/geoip/?q=' + ip)
                .then(async function(res) {
                    var arr = [];
                    for (line of String(await res.text()).split('\n')) {
                        arr.push(getval(line, ':'))
                    }
                    console.log(
                        `You visited this site on ${Date()}, using ${ip} from ` +
                        `${arr[1]}, ${arr[2]}, ${arr[3]} (${arr[4]}, ${arr[5]})`);
                })
            })
        }()
        function _click() {
            document.getElementById('click').outerHTML="Practice XSS at <a href='https://prompt.ml/0'>Prompt(1) to win</a> :)"
        }
        function runJS() {
            eval(document.getElementById("jscode").value);
        }
        function hl_go() {
            let text = document.getElementById('hl-text').value;
            let brush = document.getElementById('hl-brush').value;
            // let html = '<html><head><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css"></head><body>aaa</body></html>'
            let html = '<html><head><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/monokai-sublime.min.css"'
                + '><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"><'
                + '/script><script>hljs.initHighlightingOnLoad();<'
                + `/script></head><body><pre><code class="${brush}">${text}</code></pre></body></html>`;
            document.getElementById('hl-result').innerHTML = `<iframe width=50% height=350 style="float:right" srcdoc='${html}'></iframe>`;
        }
    </script>
</body>
</html>
